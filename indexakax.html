
<!DOCTYPE html>
<html>
<head>
<title>Demo querystring</title>
<style>
	code, pre { background-color: beige;}
	#resultat {
		border: 1px solid black;
		background-color: #eeeeee;
	}
</style>
<script>

let request = new XMLHttpRequest();
//'GET', 'http://forverkliga.se/JavaScript/api/simple.php');  api/ajax-lab.php
	request.open('GET', 'http://forverkliga.se/JavaScript/api/ajax-lab.php?key=value');
	request.onreadystatechange = function(event) {
	  console.log('readyState: ' + request.readyState +
				 ', status: ' + request.status);
	  console.log('responseText: '+request.responseText);
	  
	  // om readyState==4, skriv ut resultatet
	  if( request.readyState == 4 ) {
		let div = document.getElementById('resultat');
		let obj = JSON.parse(request.responseText);
		div.innerHTML = 'obj message är "' +
			obj.message + '". Klockan är ' + obj.time;
	  }
	};
	request.send();
	//console.log(request)



</script>
</head>
<body>
<div id="resultat">
Resultatet kommer här...
</div>
<code><pre>
	let request = new XMLHttpRequest();
	//en http://forverkliga.se/JavaScript/api/ajax-lab.php
	request.open('GET', 'http://forverkliga.se/JavaScript/api/ajax-lab.php');
	request.onreadystatechange = function(event) {
	  console.log('readyState: ' + request.readyState +
				 ', status: ' + request.status);
	  console.log('responseText: '+request.responseText);
	};
	request.send();
</pre></code>
</body>
</html>
